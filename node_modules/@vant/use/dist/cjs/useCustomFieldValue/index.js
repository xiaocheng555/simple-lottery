"use strict";

exports.__esModule = true;
exports.useCustomFieldValue = useCustomFieldValue;
exports.CUSTOM_FIELD_INJECTION_KEY = void 0;

var _vue = require("vue");

var CUSTOM_FIELD_INJECTION_KEY = Symbol('van-field');
exports.CUSTOM_FIELD_INJECTION_KEY = CUSTOM_FIELD_INJECTION_KEY;

function useCustomFieldValue(customValue) {
  var field = (0, _vue.inject)(CUSTOM_FIELD_INJECTION_KEY, null);

  if (field && !field.customValue.value) {
    field.customValue.value = customValue;
    (0, _vue.watch)(customValue, () => {
      field.resetValidation();
      field.validateWithTrigger('onChange');
    });
  }
}